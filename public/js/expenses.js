"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[932],{7943:(t,e,a)=>{a.d(e,{Z:()=>f});var n=a(9220),r=["originalData"];function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){u(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function u(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function c(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},o=Object.keys(t);for(n=0;n<o.length;n++)a=o[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)a=o[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function l(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.isRequesting=!1,this.mapData(e)}var e,a,s;return e=t,a=[{key:"mapData",value:function(t){t.originalData;var e=c(t,r);this.commitedData=i({},e),this.reset()}},{key:"getProtectedKeys",value:function(){return["commitedData","isRequesting"]}},{key:"isKeyProtected",value:function(t){return this.getProtectedKeys().includes(t)}},{key:"commit",value:function(){var e=this;Object.keys(this.commitedData).forEach((function(a){e.isKeyProtected(a)||(e[a]instanceof t?e.commitedData[a]=new t(e[a].getData()):Array.isArray(e[a])||"object"===o(e[a])&&null!==e[a]&&void 0!==e[a]?e.commitedData[a]=JSON.parse(JSON.stringify(e[a])):e.commitedData[a]=e[a])}))}},{key:"reset",value:function(){var e=this;Object.keys(this.commitedData).forEach((function(a){e.isKeyProtected(a)||(e.commitedData[a]instanceof t?e[a]=new t(e.commitedData[a].getData()):Array.isArray(e.commitedData[a])||"object"===o(e.commitedData[a])&&null!==e.commitedData[a]&&void 0!==e.commitedData[a]?e[a]=JSON.parse(JSON.stringify(e.commitedData[a])):e[a]=e.commitedData[a])}))}},{key:"getData",value:function(){var t=this,e={};return Object.keys(this.commitedData).forEach((function(a){return e[a]=t[a]})),e}},{key:"send",value:function(t,e,a){for(var r=this,o=arguments.length,s=new Array(o>3?o-3:0),u=3;u<o;u++)s[u-3]=arguments[u];return a=i({data:this.getData()},a),new Promise((function(o,i){r.isRequesting=!0,n.lW.apply(void 0,[t,e,a].concat(s)).then(o).catch(i).finally((function(){return r.isRequesting=!1}))}))}}],a&&l(e.prototype,a),s&&l(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}()},8393:(t,e,a)=>{a.r(e),a.d(e,{default:()=>l});var n=a(7757),r=a.n(n),o=a(7367),s=a(7943),i=a(3846);function u(t,e,a,n,r,o,s){try{var i=t[o](s),u=i.value}catch(t){return void a(t)}i.done?e(u):Promise.resolve(u).then(n,r)}const c={name:"CreateExpenseCategoryForm",data:function(){return{modalShown:!1,form:new s.Z({name:""})}},methods:{initialize:function(){this.form.reset()},close:function(){this.form.reset(),this.$refs.modal.close()},show:function(t){this.initialize(),this.$refs.modal.open()},save:function(){var t,e=this;return(t=r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return setTimeout((function(){return document.activeElement.blur()}),200),t.next=3,(0,i.iG)("Are you sure you want to save this data?","");case 3:if(t.sent.value){t.next=6;break}return t.abrupt("return");case 6:e.form.send("post",route("api.categories.store")).then((function(t){return e.saved(t)})).catch((function(t){return e.failedToSave(t)}));case 7:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(n,r){var o=t.apply(e,a);function s(t){u(o,n,r,s,i,"next",t)}function i(t){u(o,n,r,s,i,"throw",t)}s(void 0)}))})()},saved:function(t){(0,i.Ug)(t.data.message),this.close(),this.$emit("created")},failedToSave:function(t){(0,i.X7)(this.$refs,t)}},mounted:function(){o.$.$on("expense-categories.show-create",this.show)}};const l=(0,a(1900).Z)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{ref:"modal",attrs:{title:"Create Expense Category",small:!1},on:{hidden:function(e){t.modalShown=!1}},model:{value:t.modalShown,callback:function(e){t.modalShown=e},expression:"modalShown"}},[a("form",{staticClass:"text-left pt-4 pb-4 container",on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("form-input",{ref:"name",attrs:{label:"Name",placeholder:"Name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("div",{staticClass:"col-sm-12"},[t.form.isRequesting?a("button",{staticClass:"disabled btn btn-primary btn-rounded long float-right",attrs:{disabled:""}},[a("i",{staticClass:"fas fa-spin fa-spinner mr-2"}),t._v(" Please wait\n                ")]):a("button",{staticClass:"btn btn-primary btn-rounded long float-right",attrs:{type:"submit"}},[a("i",{staticClass:"fa fa-save mr-1"}),t._v(" Save\n                ")])])])])])}),[],!1,null,null,null).exports},2423:(t,e,a)=>{a.r(e),a.d(e,{default:()=>f});var n=a(7757),r=a.n(n),o=a(9220),s=a(7367),i=a(3846),u=a(7943);function c(t,e,a,n,r,o,s){try{var i=t[o](s),u=i.value}catch(t){return void a(t)}i.done?e(u):Promise.resolve(u).then(n,r)}const l={name:"CreateExpenseForm",data:function(){return{modalShown:!1,users:[],categories:[],form:new u.Z({category_id:this.category?this.category.id:"",user_id:this.user?this.user.id:"",amount:""})}},methods:{initialize:function(){this.form.reset(),null==this.category&&this.initializeCategories(),null==this.user&&this.initializeUsers()},initializeUsers:function(){var t=this;this.users=[],(0,o.U2)(route("api.users.index",{type:"user",paginate:!1})).then((function(e){return t.users=t.mapDataListToOptions(e.data.result.users)})).catch((function(t){return(0,i.R6)(t.response.data.message)}))},initializeCategories:function(){var t=this;this.categories=[],(0,o.U2)(route("api.categories.index",{paginate:!1})).then((function(e){return t.categories=t.mapDataListToOptions(e.data.result.categories)})).catch((function(t){return(0,i.R6)(t.response.data.message)}))},close:function(){this.form.reset(),this.$refs.modal.close()},show:function(){this.initialize(),this.$refs.modal.open()},mapDataListToOptions:function(t){return t.map((function(t){return{text:t.name,value:t.id}}))},save:function(){var t,e=this;return(t=r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return setTimeout((function(){return document.activeElement.blur()}),200),t.next=3,(0,i.iG)("Are you sure you want to save this data?","");case 3:if(t.sent.value){t.next=6;break}return t.abrupt("return");case 6:e.form.send("post",route("api.expenses.store")).then((function(t){return e.saved(t)})).catch((function(t){return e.failedToSave(t)}));case 7:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(n,r){var o=t.apply(e,a);function s(t){c(o,n,r,s,i,"next",t)}function i(t){c(o,n,r,s,i,"throw",t)}s(void 0)}))})()},saved:function(t){(0,i.Ug)(t.data.message),this.close(),this.$emit("created")},failedToSave:function(t){(0,i.X7)(this.$refs,t)}},props:{category:Object,user:Object},mounted:function(){s.$.$on("expenses.show-create",this.show)}};const f=(0,a(1900).Z)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{ref:"modal",attrs:{title:"Create Expense Category",small:!1},on:{hidden:function(e){t.modalShown=!1}},model:{value:t.modalShown,callback:function(e){t.modalShown=e},expression:"modalShown"}},[a("form",{staticClass:"text-left pt-4 pb-4 container",on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[null==t.category?a("form-select",{ref:"category_id",attrs:{options:t.categories,label:"Category",placeholder:"Category"},model:{value:t.form.category_id,callback:function(e){t.$set(t.form,"category_id",e)},expression:"form.category_id"}}):a("labeled-data",{staticClass:"mb-2",attrs:{label:"Category",value:t.category.name}}),t._v(" "),null==t.user?a("form-select",{ref:"user_id",attrs:{options:t.users,label:"User",placeholder:"User"},model:{value:t.form.user_id,callback:function(e){t.$set(t.form,"user_id",e)},expression:"form.user_id"}}):a("labeled-data",{staticClass:"mb-2",attrs:{label:"User",value:t.user.name}}),t._v(" "),a("form-input",{ref:"amount",attrs:{label:"Amount",placeholder:"Amount",type:"decimal"},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}})],1),t._v(" "),a("div",{staticClass:"col-sm-12"},[t.form.isRequesting?a("button",{staticClass:"disabled btn btn-primary btn-rounded long float-right",attrs:{disabled:""}},[a("i",{staticClass:"fas fa-spin fa-spinner mr-2"}),t._v(" Please wait\n                ")]):a("button",{staticClass:"btn btn-primary btn-rounded long float-right",attrs:{type:"submit"}},[a("i",{staticClass:"fa fa-save mr-1"}),t._v(" Save\n                ")])])])])])}),[],!1,null,null,null).exports},3085:(t,e,a)=>{a.r(e),a.d(e,{default:()=>r});const n={name:"ExpenseCategoryChart",data:function(){return{loaded:!1,categorySumData:null,categoryCountData:null,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}},methods:{initializeCategorySumData:function(){this.categorySumData={labels:this.categories.map((function(t){return t.name})),datasets:[{label:"Expense Records Sum",backgroundColor:this.generateRandomColor(this.categories.length),data:this.categories.map((function(t){return t.expenses_sum}))}]}},initializeCategoryCountData:function(){this.categoryCountData={labels:this.categories.map((function(t){return t.name})),datasets:[{label:"Expense Records Count",backgroundColor:this.generateRandomColor(this.categories.length),data:this.categories.map((function(t){return t.expenses_count}))}]}},generateRandomColor:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=[],a=0;a<t;a++)e.push("#".concat(Math.floor(16777215*Math.random()).toString(16)));return e}},props:{categories:Array},mounted:function(){this.loaded=!0,this.initializeCategorySumData(),this.initializeCategoryCountData()}};const r=(0,a(1900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t.loaded?a("bar-chart",{attrs:{chartdata:t.categorySumData,height:150,options:t.options}}):t._e(),t._v(" "),t.loaded?a("bar-chart",{attrs:{chartdata:t.categoryCountData,height:150,options:t.options}}):t._e()],1)}),[],!1,null,null,null).exports},5066:(t,e,a)=>{a.r(e),a.d(e,{default:()=>c});var n=a(7757),r=a.n(n),o=a(7943),s=a(3846);function i(t,e,a,n,r,o,s){try{var i=t[o](s),u=i.value}catch(t){return void a(t)}i.done?e(u):Promise.resolve(u).then(n,r)}const u={name:"ExpenseCategoryForm",data:function(){return{editable:!1,form:new o.Z({id:this.category.id,name:this.category.name})}},methods:{toggleEdit:function(){(this.editable=!this.editable)?this.form.commit():this.form.reset()},save:function(){var t,e=this;return(t=r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.iG)("Are you sure you want to edit this data?","");case 2:if(t.sent.value){t.next=5;break}return t.abrupt("return");case 5:e.form.send("put",route("api.categories.update",e.form.id)).then((function(t){return e.saved(t)})).catch((function(t){return e.failedToSave(t)}));case 6:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(n,r){var o=t.apply(e,a);function s(t){i(o,n,r,s,u,"next",t)}function u(t){i(o,n,r,s,u,"throw",t)}s(void 0)}))})()},saved:function(t){(0,s.Ug)(t.data.message),this.editable=!1},failedToSave:function(t){(0,s.X7)(this.$refs,t)}},props:{category:[Object]}};const c=(0,a(1900).Z)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("card",[a("template",{slot:"body"},[a("div",{staticClass:"mt-1"},[t.editable?t._e():a("div",{staticClass:"btn btn-link btn-sm text-blue float-right",on:{click:t.toggleEdit}},[a("i",{staticClass:"fa fa-edit"}),t._v(" Edit\n            ")]),t._v(" "),t.editable&&!t.form.isRequesting?a("div",{staticClass:"btn btn-link btn-sm text-danger float-right",on:{click:t.toggleEdit}},[a("i",{staticClass:"fa fa-ban"}),t._v(" Cancel\n            ")]):t._e()]),t._v(" "),t.editable?a("form",{staticClass:"text-left pt-4 pb-4 container",on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("form-input",{ref:"name",attrs:{label:"Name",placeholder:"Name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("div",{staticClass:"col-sm-12"},[t.form.isRequesting?a("button",{staticClass:"disabled btn btn-primary btn-rounded long float-right",attrs:{disabled:""}},[a("i",{staticClass:"fas fa-spin fa-spinner mr-2"}),t._v(" Please wait\n                    ")]):a("button",{staticClass:"btn btn-primary btn-rounded long float-right",attrs:{type:"submit"}},[a("i",{staticClass:"fa fa-save mr-1"}),t._v(" Save\n                    ")])])])]):a("div",{staticClass:"text-left pt-4 pb-4"},[a("labeled-data",{attrs:{label:"Name",value:t.form.name}})],1)])],2)}),[],!1,null,null,null).exports},1133:(t,e,a)=>{a.r(e),a.d(e,{default:()=>f});var n=a(7757),r=a.n(n),o=a(9220),s=a(7367),i=a(3846),u=a(7943);function c(t,e,a,n,r,o,s){try{var i=t[o](s),u=i.value}catch(t){return void a(t)}i.done?e(u):Promise.resolve(u).then(n,r)}const l={name:"ExpenseForm",data:function(){return{modalShown:!1,users:[],categories:[],form:new u.Z({id:"",category_id:"",user_id:this.user?this.user.id:"",amount:""})}},methods:{initialize:function(t){this.form.reset(),this.form.id=t.id,this.form.category_id=t.category_id,this.form.user_id=t.user_id,this.form.amount=t.amount,this.initializeCategories(),null==this.user&&this.initializeUsers()},initializeUsers:function(){var t=this;this.users=[],(0,o.U2)(route("api.users.index",{type:"user",paginate:!1})).then((function(e){return t.users=t.mapDataListToOptions(e.data.result.users)})).catch((function(t){return(0,i.R6)(t.response.data.message)}))},initializeCategories:function(){var t=this;this.categories=[],(0,o.U2)(route("api.categories.index",{paginate:!1})).then((function(e){return t.categories=t.mapDataListToOptions(e.data.result.categories)})).catch((function(t){return(0,i.R6)(t.response.data.message)}))},close:function(){this.form.reset(),this.$refs.modal.close()},show:function(t){this.initialize(t),this.$refs.modal.open()},mapDataListToOptions:function(t){return t.map((function(t){return{text:t.name,value:t.id}}))},save:function(){var t,e=this;return(t=r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return setTimeout((function(){return document.activeElement.blur()}),200),t.next=3,(0,i.iG)("Are you sure you want to save this data?","");case 3:if(t.sent.value){t.next=6;break}return t.abrupt("return");case 6:e.form.send("put",route("api.expenses.update",e.form.id)).then((function(t){return e.saved(t)})).catch((function(t){return e.failedToSave(t)}));case 7:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(n,r){var o=t.apply(e,a);function s(t){c(o,n,r,s,i,"next",t)}function i(t){c(o,n,r,s,i,"throw",t)}s(void 0)}))})()},saved:function(t){(0,i.Ug)(t.data.message),this.close(),this.$emit("updated")},failedToSave:function(t){(0,i.X7)(this.$refs,t)}},props:{user:Object},mounted:function(){s.$.$on("expenses.show-update",this.show)}};const f=(0,a(1900).Z)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{ref:"modal",attrs:{title:"Expense Category",small:!1},on:{hidden:function(e){t.modalShown=!1}},model:{value:t.modalShown,callback:function(e){t.modalShown=e},expression:"modalShown"}},[a("form",{staticClass:"text-left pt-4 pb-4 container",on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[t.categories.length>0?a("form-select",{ref:"category_id",attrs:{options:t.categories,label:"Category",placeholder:"Category"},model:{value:t.form.category_id,callback:function(e){t.$set(t.form,"category_id",e)},expression:"form.category_id"}}):t._e(),t._v(" "),null==t.user&&t.users.length>0?a("form-select",{ref:"user_id",attrs:{options:t.users,label:"User",placeholder:"User"},model:{value:t.form.user_id,callback:function(e){t.$set(t.form,"user_id",e)},expression:"form.user_id"}}):null!=t.user?a("labeled-data",{staticClass:"mb-2",attrs:{label:"User",value:t.user.name}}):t._e(),t._v(" "),a("form-input",{ref:"amount",attrs:{label:"Amount",placeholder:"Amount",type:"decimal"},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}})],1),t._v(" "),a("div",{staticClass:"col-sm-12"},[t.form.isRequesting?a("button",{staticClass:"disabled btn btn-primary btn-rounded long float-right",attrs:{disabled:""}},[a("i",{staticClass:"fas fa-spin fa-spinner mr-2"}),t._v(" Please wait\n                ")]):a("button",{staticClass:"btn btn-primary btn-rounded long float-right",attrs:{type:"submit"}},[a("i",{staticClass:"fa fa-save mr-1"}),t._v(" Save\n                ")])])])])])}),[],!1,null,null,null).exports}}]);